{"version":3,"sources":["components/FirebaseContext.js","components/UserSessionContext.js","components/HeaderContext.js","components/TodayDate.js","components/Portal.js","components/SelectFrigo.js","components/RenameFrigo.js","components/AddFrigo.js","components/DeleteFrigo.js","components/FrigoMenu.js","components/Memento.js","components/ChangePseudo.js","components/UpdateEmail.js","components/UpdatePassword.js","components/Logout.js","components/DeleteUser.js","components/UserMenu.js","components/Header.js","components/Landing.js","components/FormProduct.js","components/Product.js","components/Loader.js","components/Welcome.js","components/Login.js","components/Signup.js","components/ErrorPage.js","components/ForgetPassword.js","components/Footer.js","components/App.js","reportWebVitals.js","components/Firebase.js","index.js"],"names":["FirebaseContext","React","createContext","UserSessionContext","HeaderContext","TodayDate","date","Date","dayNum","getDate","dayName","getDay","monthName","getMonth","formatDate","Portal","id","children","el","useRef","document","getElementById","createElement","useState","current","parentElement","dynamic","useEffect","body","appendChild","removeChild","createPortal","memo","SelectFrigo","useContext","userData","setUserData","listFridges","initialCurrentIndexFridge","currentIndexFridge","setCurrentIndexFridge","onSubmit","e","preventDefault","Infinity","toast","success","htmlFor","className","value","onChange","Number","target","map","fridge","i","type","disabled","RenameFrigo","currentNameFridge","nameFridge","setNameFridge","newListFridges","autoComplete","maxLength","required","AddFrigo","includes","DeleteFrigo","listProducts","indexFridge","setIndexFridge","alert","setAlert","alertMsg","role","onClick","filtredListProduct","filter","product","splice","newCurrentIndexFridge","newListProducts","deleteFrigo","deleteForm","FrigoMenu","setFrigoMenu","animMenu","closeMenu","size","length","Memento","setMemento","initialListMemento","listMemento","nextId","setListMemento","handleBlur","buttons","name","list","findIndex","newListMemento","handleChange","onBlur","color","productName","deleteProduct","ChangePseudo","initialPseudo","pseudo","setPseudo","UpdateEmail","firebaseContext","initialEmail","email","setError","setEmail","updateEmail","then","console","log","catch","error","UpdatePassword","password","setPassword","confirmPassword","setConfirmPassword","updatePassword","Logout","userSession","setUserMenu","checked","setChecked","labelMsg","setLabelMsg","setTimeout","signoutUser","Form","Check","label","DeleteUser","deleteUser","deleteUserDoc","uid","UserMenu","errorMsg","Header","frigoMenu","memento","userMenu","setAnimMenu","openMenu","fn","HeaderContextValue","Provider","Landing","props","history","push","to","FormProduct","idToModified","initialFormsValues","formValues","addProduct","modifyProduct","hideForm","setFormValues","initialName","initialDate","initialRecipe","recipe","initialOpened","opened","initialIndexFridge","title","selectFrigo","Product","showForm","fridgeName","replace","remainingDays","Math","ceil","smileyTooltipMsg","smileyColor","smileyIcon","data-for","data-tip","data-event","place","effect","eventOff","delayHide","Loader","Welcome","welcomeMsg","setWelcomeMsg","form","setForm","setIdToModified","deleteAllProducts","sort","a","b","Login","initialLoginData","loginData","setLoginData","btn","message","loginUser","Signup","signupUser","authUser","userDoc","user","set","ErrorPage","ForgetPassword","setSuccess","successMsg","passwordReset","Footer","href","rel","configure","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","App","initialUserData","setUserSession","UserSessionContextValue","listener","auth","onAuthStateChanged","get","doc","exists","data","update","style","verticalAlign","basename","process","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Firebase","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","sendPasswordResetEmail","db","currentUser","delete","app","initializeApp","this","firestore","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1a2b61b9.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport default FirebaseContext;","import React from 'react';\r\n\r\nconst UserSessionContext = React.createContext(null);\r\n\r\nexport default UserSessionContext;","import React from 'react';\r\n\r\nconst HeaderContext = React.createContext(null);\r\n\r\nexport default HeaderContext;","import React from 'react';\r\n\r\nconst TodayDate = () => {\r\n    \r\n    const date = new Date();\r\n    const dayNum = date.getDate();\r\n    const dayName = [\"dim\", \"lun\", \"mar\", \"mer\", \"jeu\", \"ven\", \"sam\"][date.getDay()];\r\n    const monthName = [\"janvier\", \"février\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"août\", \"septembre\", \"octobre\", \"novembre\", \"décembre\"][date.getMonth()];\r\n    const formatDate =  `${dayName}. ${dayNum} ${monthName}`;\r\n\r\n    return (\r\n        <span>\r\n            {formatDate}    \r\n        </span>\r\n    )\r\n    \r\n}\r\n\r\nexport default TodayDate;","import { useState, useEffect, useRef, memo } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst Portal = ({ id, children }) => {\r\n\r\n  const el = useRef(\r\n    document.getElementById(id) || document.createElement('div'),\r\n  );\r\n\r\n  const [dynamic] = useState(!el.current.parentElement);\r\n\r\n  useEffect(() => {\r\n    if (dynamic) {\r\n      el.current.id = id;\r\n      document.body.appendChild(el.current);\r\n    }\r\n    return () => {\r\n      if (dynamic && el.current.parentElement) {\r\n        el.current.parentElement.removeChild(el.current);\r\n      }\r\n    };\r\n  }, [id]);\r\n\r\n  return createPortal(children, el.current);\r\n  \r\n};\r\n\r\nexport default memo(Portal);","import React, { useState, useEffect, useContext } from 'react';\r\nimport UserSessionContext from './UserSessionContext';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst SelectFrigo = () => {\r\n\r\n    const {userData, setUserData} = useContext(UserSessionContext);\r\n    const {listFridges, currentIndexFridge: initialCurrentIndexFridge} = userData;\r\n\r\n    const [currentIndexFridge, setCurrentIndexFridge] = useState(initialCurrentIndexFridge);\r\n\r\n    useEffect(() => setCurrentIndexFridge(initialCurrentIndexFridge), [initialCurrentIndexFridge]);\r\n\r\n    const handleChange = e => setCurrentIndexFridge(Number(e.target.value));\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        setUserData({...userData, currentIndexFridge: currentIndexFridge});\r\n        currentIndexFridge === Infinity \r\n        ? toast.success(`Sélection de tous les frigos`)\r\n        : currentIndexFridge === -1\r\n        ? toast.success(`Sélection des produits non assignés`)\r\n        : toast.success(`Sélection du frigo ${listFridges[currentIndexFridge]}`);\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <label htmlFor=\"indexFridgeToSelect\">Sélectionner le frigo actif</label>\r\n            <div className=\"d-flex row\">\r\n                <div className=\"col-8 pr-1\">\r\n                    <select className=\"form-control\" value={currentIndexFridge} onChange={handleChange} id=\"indexFridgeToSelect\">\r\n                        <option className=\"text-uppercase\" key=\"allFridges\" value=\"Infinity\">Tous</option>\r\n                        <option className=\"text-uppercase\" key=\"notAssigned\" value=\"-1\">Non assigné</option>\r\n                        {\r\n                            listFridges.map((fridge, i) => \r\n                                (\r\n                                    <option key={fridge} value={i}>\r\n                                        {fridge}\r\n                                    </option>\r\n                                )\r\n                            )\r\n                        }\r\n                    </select>\r\n                </div>\r\n                <div className=\"col-4 pl-1\">\r\n                    <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={currentIndexFridge === initialCurrentIndexFridge}>Sélectionner</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SelectFrigo;","import React, { useState, useEffect, useContext } from 'react';\r\nimport UserSessionContext from './UserSessionContext';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst RenameFrigo = () => {\r\n\r\n    const {userData, setUserData} = useContext(UserSessionContext);\r\n    const {listFridges, currentIndexFridge} = userData;\r\n\r\n    const currentNameFridge = listFridges[currentIndexFridge] || \"\";\r\n\r\n    const [nameFridge, setNameFridge] = useState(currentNameFridge);\r\n\r\n    useEffect(() => setNameFridge(currentNameFridge), [currentIndexFridge]);\r\n\r\n    const handleChange = e => setNameFridge(e.target.value);    \r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        toast.success(\"Frigo renommé\");\r\n        const newListFridges = [...listFridges];\r\n        newListFridges[currentIndexFridge] = nameFridge;\r\n        setUserData({...userData, listFridges: newListFridges});\r\n        setNameFridge(\"\");\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <label htmlFor=\"nameFridgeToRename\">Renommer le frigo actif</label>\r\n            <div className=\"d-flex row\">\r\n                <div className=\"col-8 pr-1\">\r\n                    <input className=\"form-control\" onChange={handleChange} value={nameFridge} disabled={currentIndexFridge === Infinity || currentIndexFridge === -1} type=\"text\" id=\"nameFridgeToRename\" autoComplete=\"off\" maxLength=\"20\" required />\r\n                </div>\r\n                <div className=\"col-4 pl-1\">\r\n                    <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={currentIndexFridge === Infinity || !nameFridge || nameFridge === currentNameFridge}>Renommer</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default RenameFrigo;","import React, { useState, useContext } from 'react';\r\nimport UserSessionContext from './UserSessionContext';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst AddFrigo = () => {\r\n\r\n    const {userData, setUserData} = useContext(UserSessionContext);\r\n    const {listFridges} = userData;\r\n\r\n    const [nameFridge, setNameFridge] = useState(\"\");\r\n\r\n    const handleChange = e => setNameFridge(e.target.value);\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        setUserData({...userData, listFridges: [...listFridges, nameFridge]});\r\n        toast.success(`Ajout du frigo ${nameFridge}`);\r\n        setNameFridge(\"\");\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <label htmlFor=\"nameFridgeToAdd\">Ajouter un frigo</label>\r\n            <div className=\"d-flex row\">\r\n                <div className=\"col-8 pr-1\">\r\n                    <input className=\"form-control\" onChange={handleChange} value={nameFridge} type=\"text\" id=\"nameFridgeToAdd\" autoComplete=\"off\" maxLength=\"20\" required />\r\n                </div>\r\n                <div className=\"col-4 pl-1\">\r\n                    <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={!nameFridge || listFridges.includes(nameFridge)}>Ajouter</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default AddFrigo;","import React, { useState, useContext, Fragment } from 'react';\r\nimport UserSessionContext from './UserSessionContext';\r\nimport { toast } from 'react-toastify';\r\nimport { FaCheck, FaTimes } from \"react-icons/fa\";\r\n\r\nconst DeleteFrigo = () => {\r\n\r\n    const {userData, setUserData} = useContext(UserSessionContext);\r\n    const {listFridges, currentIndexFridge, listProducts} = userData;\r\n\r\n    const [indexFridge, setIndexFridge] = useState(\"\");\r\n    const [alert, setAlert] = useState(false);\r\n\r\n    const handleChange = e => setIndexFridge(e.target.value === \"\" ? e.target.value : Number(e.target.value));\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        setAlert(true);\r\n    };\r\n\r\n    const deleteFrigo = () => {\r\n        if (indexFridge === Infinity) {\r\n            toast.success(`Suppression de tous les frigos`);\r\n            setUserData({...userData, listFridges: [\"Nouveau\"], currentIndexFridge: 0, listProducts: []});\r\n        } else if (indexFridge === -1) {\r\n            toast.success(`Suppression des produits non assignés`);\r\n            const filtredListProduct = listProducts.filter(product => product.indexFridge !== -1);\r\n            setUserData({...userData, listProducts: filtredListProduct});\r\n        } else {\r\n            toast.success(`Suppression du frigo ${listFridges[indexFridge]}`);\r\n            const newListFridges = [...userData.listFridges];\r\n            newListFridges.splice(indexFridge, 1);    \r\n            const newCurrentIndexFridge = \r\n                indexFridge === currentIndexFridge\r\n                ? 0\r\n                : indexFridge < currentIndexFridge \r\n                    ? currentIndexFridge - 1\r\n                    : currentIndexFridge;   \r\n            const newListProducts = \r\n                [...userData.listProducts]\r\n                    .filter(product => product.indexFridge !== indexFridge)\r\n                    .map(product => product.indexFridge > indexFridge ? {...product, indexFridge: product.indexFridge - 1} : {...product, indexFridge: product.indexFridge});    \r\n            setUserData({...userData, listFridges: newListFridges, currentIndexFridge: newCurrentIndexFridge, listProducts: newListProducts});\r\n        }\r\n        setIndexFridge(\"\");\r\n        setAlert(false);\r\n    };\r\n\r\n    const noDeleteFrigo = () => {\r\n        setIndexFridge(\"\");\r\n        setAlert(false); \r\n    };\r\n\r\n    const alertMsg = (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n            {\r\n                indexFridge === Infinity\r\n                ? (\r\n                    <Fragment>\r\n                        <p className=\"h5 text-center mb-3\">Supprimer tous les frigos ?</p>\r\n                        <p className=\"text-center\">Attention, tous les produits de tous les frigos seront supprimés, même ceux dont le frigo est indéterminé.</p>\r\n                    </Fragment>\r\n                ) : indexFridge === -1\r\n                ? (\r\n                    <Fragment>\r\n                        <p className=\"h5 text-center mb-3\">Supprimer tous les produits dont le frigo est non assigné ?</p>\r\n                        <p className=\"text-center\">Attention, toute suppression est définitive.</p>\r\n                    </Fragment>\r\n                ) : (\r\n                    <Fragment>\r\n                        <p className=\"h5 text-center mb-3\">Supprimer le frigo {listFridges[indexFridge]} ?</p>\r\n                        <p className=\"text-center\">Attention, tous les produits associés à ce frigo seront également supprimés.</p>\r\n                    </Fragment>                    \r\n                )\r\n            }\r\n            <div className=\"row text-center mt-3\">\r\n                <div className=\"col\">\r\n                    <button type=\"button\" className=\"btn btn-success btn-block\" onClick={() => deleteFrigo()}>\r\n                        <FaCheck /> Oui\r\n                    </button>\r\n                </div>\r\n                <div className=\"col\">\r\n                    <button type=\"button\" className=\"btn btn-danger btn-block\" onClick={() => noDeleteFrigo()}>\r\n                        <FaTimes /> Non\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const deleteForm = (\r\n        <form onSubmit={handleSubmit}>\r\n            <label htmlFor=\"indexFridgeToDelete\">Supprimer un frigo</label>\r\n            <div className=\"d-flex row\">\r\n                <div className=\"col-8 pr-1\">\r\n                    <select className=\"form-control\" value={indexFridge} onChange={handleChange} id=\"indexFridgeToDelete\">\r\n                        <option key=\"non\" value=\"\">Non</option>\r\n                        <option className=\"text-uppercase\" key=\"allFridges\" value=\"Infinity\">Tous</option>\r\n                        <option className=\"text-uppercase\" key=\"notAssigned\" value=\"-1\">Non assigné</option>\r\n                        {\r\n                            listFridges.map((fridge, i) => \r\n                                (\r\n                                    <option key={fridge} value={i}>\r\n                                        {fridge}\r\n                                    </option>\r\n                                )\r\n                            )\r\n                        }\r\n                    </select>\r\n                </div>\r\n                <div className=\"col-4 pl-1\">\r\n                    <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={indexFridge === \"\"}>Supprimer</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        alert ? alertMsg : deleteForm\r\n    )\r\n}\r\n\r\nexport default DeleteFrigo;","import React, { useContext } from 'react';\r\nimport UserSessionContext from './UserSessionContext';\r\nimport HeaderContext from './HeaderContext';\r\nimport SelectFrigo from './SelectFrigo';\r\nimport RenameFrigo from './RenameFrigo';\r\nimport AddFrigo from './AddFrigo';\r\nimport DeleteFrigo from './DeleteFrigo';\r\nimport { CgClose } from \"react-icons/cg\";\r\n\r\nconst FrigoMenu = () => {\r\n\r\n    const {userData} = useContext(UserSessionContext);\r\n    const {listFridges} = userData;\r\n\r\n    const {setFrigoMenu, animMenu, closeMenu}  = useContext(HeaderContext);\r\n\r\n    return (\r\n        <div className=\"overlay\">\r\n            <div className={\"menu\" + (animMenu ? \" animMenu\" : \"\")}>\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <CgClose size=\"1.5em\" className=\"pointer\" onClick={() => closeMenu(setFrigoMenu)}/>\r\n                </div>\r\n                <p className=\"h2 mb-6\">Mes frigos</p>\r\n                <div className=\"mb-3\">\r\n                    <SelectFrigo />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <RenameFrigo />\r\n                </div>                        \r\n                <div className=\"mb-3\">\r\n                    <AddFrigo />\r\n                </div>\r\n                {\r\n                    listFridges.length > 1 && (\r\n                        <div>\r\n                            <DeleteFrigo />\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FrigoMenu;","import React, { useState, useEffect, useContext, Fragment } from 'react';\r\nimport UserSessionContext from './UserSessionContext';\r\nimport HeaderContext from './HeaderContext';\r\nimport { toast } from 'react-toastify';\r\nimport { CgClose } from \"react-icons/cg\";\r\nimport { FiPlus } from \"react-icons/fi\";\r\nimport { FaRegTrashAlt, FaCheck, FaTimes } from \"react-icons/fa\";\r\n\r\nconst Memento = () => {\r\n\r\n    const {setMemento, animMenu, closeMenu}  = useContext(HeaderContext);\r\n\r\n    const {userData, setUserData} = useContext(UserSessionContext);\r\n    const {listMemento: initialListMemento, nextId} = userData;\r\n\r\n    const [listMemento, setListMemento] = useState(initialListMemento);\r\n    const [alert, setAlert] = useState(false);\r\n\r\n    useEffect(() => setListMemento(initialListMemento), [initialListMemento]);\r\n\r\n    const handleChange = (id, e) => {\r\n        const i = listMemento.findIndex(product => product.id === id);\r\n        const newListMemento = [...listMemento];\r\n        newListMemento[i].name = e.target.value;\r\n        setListMemento(newListMemento);\r\n    };\r\n\r\n    const handleBlur = () => setUserData({...userData, listMemento});\r\n\r\n    const addProduct = () => {\r\n        setUserData({\r\n            ...userData, \r\n            listMemento: [...listMemento, {id: nextId, name: \"Nouveau\"}], \r\n            nextId: nextId + 1\r\n        });\r\n    }\r\n\r\n    const deleteProduct = id => {\r\n        const i = listMemento.findIndex(product => product.id === id);\r\n        const productName = listMemento[i].name;\r\n        const newListMemento = [...listMemento];\r\n        newListMemento.splice(i, 1);\r\n        setUserData({...userData, listMemento: newListMemento});\r\n        toast.success(`Suppression de ${productName}`);\r\n    }\r\n\r\n    const deleteAllProducts = () => {\r\n        setUserData({...userData, listMemento: []});\r\n        setAlert(false); \r\n        toast.success(\"Suppression de toute la liste\");      \r\n    }\r\n\r\n    const alertMsg = (\r\n        <div className=\"alert alert-danger mb-6\" role=\"alert\">\r\n            <p className=\"h5 text-center mb-3\">Supprimer toute la liste ?</p>\r\n            <div className=\"row text-center\">\r\n                <div className=\"col\">\r\n                    <button type=\"button\" className=\"btn btn-success btn-block\" onClick={() => deleteAllProducts()}>\r\n                        <FaCheck /> Oui\r\n                    </button>\r\n                </div>\r\n                <div className=\"col\">\r\n                    <button type=\"button\" className=\"btn btn-danger btn-block\" onClick={() => setAlert(false)}>\r\n                        <FaTimes /> Non\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const buttons = (\r\n        <div className=\"row pb-6\">\r\n            <div className=\"col-6 col-sm-8 pr-2\">\r\n                <button type=\"button\" className=\"btn btn-primary btn-block text-nowrap\" onClick={() => addProduct()}>\r\n                    <FiPlus /> Ajouter\r\n                </button>\r\n            </div>\r\n            <div className=\"col-6 col-sm-4 pl-2\">\r\n                <button type=\"button\" className=\"btn btn-outline-secondary btn-block text-nowrap\" onClick={() => setAlert(true)} disabled={!listMemento.length}>\r\n                    <FaRegTrashAlt /> Tout effacer\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const list = \r\n        listMemento.length\r\n        ? (\r\n            <ul className=\"list-group list-group-flush\">\r\n                {\r\n                    listMemento\r\n                        .map((product) => {\r\n                            const {id, name} = product;\r\n                            return (\r\n                                <li key={id} className=\"list-group-item\">\r\n                                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                                        <input className=\"my-form\" onChange={e => handleChange(id, e)} onBlur={handleBlur} value={name} type=\"text\" autoComplete=\"off\" maxLength=\"30\" />\r\n                                        <FaTimes className=\"pointer\" color=\"#6c757d\" onClick={() => deleteProduct(id)} />\r\n                                    </div>\r\n                                </li>\r\n                            )\r\n                        })\r\n                }\r\n            </ul>\r\n        ) : (\r\n            <p className=\"h5 text-muted text-center pt-5\">Votre liste est vide !</p>\r\n        );\r\n\r\n    return (\r\n        <div className=\"overlay\">\r\n            <div className={\"menu\" + (animMenu ? \" animMenu\" : \"\")}>\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <CgClose size=\"1.5em\" className=\"pointer\" onClick={() => closeMenu(setMemento)}/>\r\n                </div>\r\n                <p className=\"h2 mb-6\">Ma liste de courses</p>\r\n                {alert ? alertMsg : buttons}\r\n                {list}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Memento;","import React, { useState, useContext } from 'react';\r\nimport UserSessionContext from './UserSessionContext';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst ChangePseudo = () => {\r\n\r\n    const {userData, setUserData} = useContext(UserSessionContext);\r\n    const {pseudo: initialPseudo} = userData;\r\n\r\n    const [pseudo, setPseudo] = useState(initialPseudo)\r\n\r\n    const handleChange = e => setPseudo(e.target.value);\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        setUserData({...userData, pseudo});\r\n        toast.success(\"Modification du pseudo\");\r\n        setPseudo(\"\");\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <label htmlFor=\"pseudo\">Modifier pseudo</label>\r\n            <div className=\"d-flex row\">\r\n                <div className=\"col-8 pr-1\">\r\n                    <input className=\"form-control\" onChange={handleChange} value={pseudo} type=\"text\" id=\"pseudo\" autoComplete=\"off\" maxLength=\"10\" required />\r\n                </div>\r\n                <div className=\"col-4 pl-1\">\r\n                    <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={pseudo === initialPseudo}>Modifier</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default ChangePseudo;","import React, { useState, useContext } from 'react';\r\nimport FirebaseContext from './FirebaseContext';\r\nimport UserSessionContext from './UserSessionContext';\r\nimport HeaderContext from './HeaderContext';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst UpdateEmail = () => {\r\n\r\n    const firebaseContext = useContext(FirebaseContext);\r\n\r\n    const {userData, setUserData} = useContext(UserSessionContext);\r\n    const {email: initialEmail} = userData;\r\n\r\n    const {setError}  = useContext(HeaderContext);\r\n\r\n    const [email, setEmail] = useState('');\r\n\r\n    const handleChange = e => setEmail(e.target.value);\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        firebaseContext.updateEmail(email)\r\n        .then(() => {\r\n            setUserData({...userData, email});\r\n            toast.success(\"Modification de l'email\");\r\n            console.log(\"Email de l'utilisateur modifié\");\r\n        })\r\n        .catch(error => {\r\n            setError(true);\r\n            console.log(error);\r\n        })\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <label htmlFor=\"email\">Modifier email</label>\r\n            <div className=\"d-flex row\">\r\n                <div className=\"col-8 pr-1\">\r\n                    <input className=\"form-control\" onChange={handleChange} value={email} type=\"email\" id=\"email\" autoComplete=\"off\" required />\r\n                </div>\r\n                <div className=\"col-4 pl-1\">\r\n                    <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={!email || email === initialEmail}>Modifier</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default UpdateEmail;","import React, { useState, useContext } from 'react';\r\nimport FirebaseContext from './FirebaseContext';\r\nimport HeaderContext from './HeaderContext';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst UpdatePassword = () => {\r\n\r\n    const firebaseContext = useContext(FirebaseContext);\r\n\r\n    const {setError}  = useContext(HeaderContext);\r\n\r\n    const [password, setPassword] = useState(\"\");\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        firebaseContext.updatePassword(password)\r\n        .then(() => {\r\n            toast.success(\"Modification du mot de passe\");\r\n            console.log(\"Mot de passe de l'utilisateur modifié\");\r\n        })\r\n        .catch(error => {\r\n            setError(true);\r\n            console.log(error);\r\n        })\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"password\">Modifier mot de passe</label>\r\n                <div className=\"d-flex row\">\r\n                    <div className=\"col-8 pr-1\">\r\n                        <input className=\"form-control\" onChange={e => setPassword(e.target.value)} value={password} type=\"password\" id=\"password\" autoComplete=\"off\" required />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"confirmPassword\">Confirmer nouveau mot de passe</label>\r\n                <div className=\"d-flex row\">\r\n                    <div className=\"col-8 pr-1\">\r\n                        <input className=\"form-control\" onChange={e => setConfirmPassword(e.target.value)} value={confirmPassword} type=\"password\" id=\"confirmPassword\" autoComplete=\"off\" required />\r\n                    </div>\r\n                    <div className=\"col-4 pl-1\">\r\n                        <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={password !== confirmPassword || password.length < 6}>Modifier</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default UpdatePassword;","import React, { useState, useEffect, useContext } from 'react';\r\nimport FirebaseContext from './FirebaseContext';\r\nimport UserSessionContext from './UserSessionContext';\r\nimport HeaderContext from './HeaderContext';\r\nimport { Form } from 'react-bootstrap';\r\n\r\nconst Logout = () => {\r\n\r\n    const firebaseContext = useContext(FirebaseContext);\r\n\r\n    const {userSession, userData} = useContext(UserSessionContext);\r\n    const {pseudo} = userData;\r\n\r\n    const {setUserMenu, closeMenu}  = useContext(HeaderContext);\r\n\r\n    const [checked, setChecked] = useState(true);\r\n    const [labelMsg, setLabelMsg] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if (userSession && !checked) {\r\n            setLabelMsg(\"Déconnexion...\");\r\n            setTimeout(() => {\r\n                closeMenu(setUserMenu);\r\n                firebaseContext.signoutUser();\r\n            }, 1000);\r\n        }\r\n    }, [userSession, checked]);\r\n\r\n    useEffect(() => userSession && setLabelMsg(\"Déconnecter \" + pseudo), [pseudo]);\r\n\r\n    const handleChange = e => setChecked(e.target.checked);\r\n\r\n    return (\r\n        <div className=\"d-flex\">\r\n            <Form>\r\n                <Form.Check\r\n                    onChange={handleChange} \r\n                    type=\"switch\"\r\n                    checked={checked}\r\n                    disabled={!checked}\r\n                    label={labelMsg}\r\n                    id=\"deconnexion\"\r\n                    className=\"pointer\"\r\n                />\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Logout;","import React, { useState, useContext } from 'react';\r\nimport FirebaseContext from './FirebaseContext';\r\nimport UserSessionContext from './UserSessionContext';\r\nimport HeaderContext from './HeaderContext';\r\nimport { FaCheck, FaTimes } from \"react-icons/fa\";\r\nimport { toast } from 'react-toastify';\r\n\r\nconst DeleteUser = () => {\r\n\r\n    const firebaseContext = useContext(FirebaseContext);\r\n\r\n    const {userSession} = useContext(UserSessionContext);\r\n\r\n    const {setUserMenu, closeMenu, setError}  = useContext(HeaderContext);\r\n\r\n    const [alert, setAlert] = useState(false);\r\n\r\n    const deleteUser = () => {\r\n        firebaseContext.deleteUser()\r\n        .then(() => {\r\n            firebaseContext.deleteUserDoc(userSession.uid)\r\n            toast.success(\"Suppression du compte\");\r\n            console.log(\"Compte utilisateur supprimé\");\r\n            closeMenu(setUserMenu);\r\n        })\r\n        .catch(error => {\r\n            setError(true);\r\n            console.log(error);\r\n        })\r\n    };\r\n\r\n    const alertMsg = (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n            <p className=\"h5 text-center mb-3\">Supprimer mon compte ?</p>\r\n            <p className=\"text-center\">Attention, tous les données associées à mon compte seront également supprimés.</p>\r\n            <div className=\"row text-center mt-3\">\r\n                <div className=\"col\">\r\n                    <button type=\"button\" className=\"btn btn-success btn-block\" onClick={() => deleteUser()}>\r\n                        <FaCheck /> Oui\r\n                    </button>\r\n                </div>\r\n                <div className=\"col\">\r\n                    <button type=\"button\" className=\"btn btn-danger btn-block\" onClick={() => setAlert(false)}>\r\n                        <FaTimes /> Non\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const deleteBtn = (\r\n        <button type=\"button\" className=\"btn btn-link px-0\" onClick={() => setAlert(true)}>\r\n            Supprimer mon compte ?\r\n        </button>        \r\n    );\r\n\r\n    return (\r\n        alert ? alertMsg : deleteBtn\r\n    )\r\n}\r\n\r\nexport default DeleteUser;\r\n","import React, { useContext } from 'react';\r\nimport HeaderContext from './HeaderContext';\r\nimport ChangePseudo from './ChangePseudo';\r\nimport UpdateEmail from './UpdateEmail';\r\nimport UpdatePassword from './UpdatePassword';\r\nimport Logout from './Logout';\r\nimport DeleteUser from './DeleteUser';\r\nimport { CgClose } from \"react-icons/cg\";\r\n\r\nconst UserMenu = () => {\r\n\r\n    const {setUserMenu, animMenu, closeMenu, error, setError}  = useContext(HeaderContext);\r\n\r\n    const errorMsg = \r\n        error && (\r\n            <div className=\"alert alert-danger mb-5\" role=\"alert\">\r\n                <p>Cette opération est sensible et nécessite une authentification récente. Connectez-vous à nouveau avant de réessayer cette demande.</p>\r\n                <button type=\"button\" className=\"btn btn-secondary btn-sm mt-2\" onClick={() => setError(false)}>\r\n                    Compris\r\n                </button>\r\n            </div>\r\n        );\r\n\r\n    return (\r\n        <div className=\"overlay\">\r\n            <div className={\"menu\" + (animMenu ? \" animMenu\" : \"\")}>\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <CgClose size=\"1.5em\" className=\"pointer\" onClick={() => closeMenu(setUserMenu)}/>\r\n                </div>\r\n                <p className=\"h2 mb-6\">Mon compte</p>\r\n                {errorMsg}\r\n                <div className=\"mb-3\">\r\n                    <ChangePseudo />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <UpdateEmail />\r\n                </div>\r\n                <div className=\"mb-5\">\r\n                    <UpdatePassword />\r\n                </div>\r\n                <div className=\"mb-6\">\r\n                    <Logout />\r\n                </div>\r\n                <div>\r\n                    <DeleteUser />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserMenu;","import React, { useState, useContext, Fragment } from 'react';\r\nimport UserSessionContext from './UserSessionContext';\r\nimport HeaderContext from './HeaderContext';\r\nimport TodayDate from './TodayDate';\r\nimport Portal from './Portal';\r\nimport FrigoMenu from './FrigoMenu';\r\nimport Memento from './Memento';\r\nimport UserMenu from './UserMenu';\r\nimport { BiNote, BiFridge, BiUser } from \"react-icons/bi\";\r\n\r\nconst Header = () => {\r\n\r\n    const {userSession, userData}  = useContext(UserSessionContext);\r\n    const {pseudo, listFridges, currentIndexFridge}  = userData;\r\n\r\n    const [frigoMenu, setFrigoMenu] = useState(false);\r\n    const [memento, setMemento] = useState(false);\r\n    const [userMenu, setUserMenu] = useState(false);\r\n    const [animMenu, setAnimMenu] = useState(false);\r\n    const [error, setError] = useState(false);\r\n\r\n    const openMenu = fn => {\r\n        fn(true);\r\n        setTimeout(() => setAnimMenu(true), 0);\r\n    };\r\n    \r\n    const closeMenu = fn => {\r\n        setAnimMenu(false);\r\n        setTimeout(() => fn(false), 350);\r\n    };\r\n\r\n    const HeaderContextValue = {\r\n        setFrigoMenu,\r\n        setMemento,\r\n        setUserMenu,\r\n        animMenu,\r\n        closeMenu,\r\n        error,\r\n        setError\r\n    };\r\n\r\n    return (\r\n        <HeaderContext.Provider value={HeaderContextValue}>\r\n            <header className=\"entete px-3 py-5 text-white\">\r\n                <div className=\"bg-entete\"></div>\r\n                <div className=\"d-flex flex-row justify-content-between align-items-center mb-7\">\r\n                    <TodayDate />\r\n                    {\r\n                        userSession && (\r\n                            <div>\r\n                                <BiFridge size=\"1.5em\" className=\"pointer mr-3\" onClick={() => openMenu(setFrigoMenu)}/>\r\n                                <BiNote size=\"1.5em\" className=\"pointer mr-3\" onClick={() => openMenu(setMemento)}/>\r\n                                <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => openMenu(setUserMenu)}>\r\n                                    <BiUser size=\"1.5em\" className=\"mr-2\" />{pseudo}\r\n                                </button>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    {\r\n                        frigoMenu && (\r\n                            <Portal id=\"app-container\">\r\n                                <FrigoMenu />\r\n                            </Portal>\r\n                        )\r\n                    }\r\n                    {\r\n                        memento && (\r\n                                <Portal id=\"app-container\">\r\n                                    <Memento />\r\n                                </Portal>\r\n                            )\r\n                    }\r\n                    {\r\n                        userMenu && (\r\n                            <Portal id=\"app-container\">\r\n                                <UserMenu />\r\n                            </Portal>\r\n                        )\r\n                    }\r\n                </div>\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    {\r\n                        <p className=\"h1 font-weight-light text-center\">\r\n                        {\r\n                            userSession && listFridges[currentIndexFridge] && currentIndexFridge !== Infinity && currentIndexFridge !== -1\r\n                            ?\r\n                                (\r\n                                    <Fragment>\r\n                                        Frigo <span className=\"text-capitalize\">{listFridges[currentIndexFridge]}</span>\r\n                                    </Fragment>\r\n                                )\r\n                            : userSession && currentIndexFridge === Infinity\r\n                            ? \"Tous les frigos\"\r\n                            : userSession && currentIndexFridge === -1\r\n                            ? \"Frigo indéterminé\"\r\n                            : \"Frigo Manager\"\r\n                        }\r\n                        </p>\r\n                    }\r\n                </div>\r\n            </header>\r\n        </HeaderContext.Provider>\r\n    )\r\n}\r\n\r\nexport default Header;","import React, { useEffect, useContext } from 'react';\r\nimport UserSessionContext from './UserSessionContext';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Landing = props => {\r\n\r\n    const userSessionContext = useContext(UserSessionContext);\r\n    const {userSession} = userSessionContext;\r\n\r\n    useEffect(() => userSession && props.history.push(\"/welcome\"), [userSession, props.history]);\r\n\r\n    return (\r\n        <div className=\"bg-landing h-100 d-flex flex-column justify-content-center align-items-center\">\r\n            <Link to=\"/login\">\r\n                <button type=\"button\" className=\"btn btn-primary btn-lg m-2\">\r\n                    Connexion\r\n                </button>\r\n            </Link>\r\n            <Link to=\"/signup\">\r\n                <button type=\"button\" className=\"btn btn-secondary btn-lg m-2\">\r\n                    Inscription\r\n                </button>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Landing;","import React, { useState, Fragment } from 'react';\r\nimport { CgClose } from \"react-icons/cg\";\r\nimport { FiPlus } from \"react-icons/fi\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";\r\n\r\nconst FormProduct = ({idToModified, listFridges, formValues: initialFormsValues, addProduct, modifyProduct, hideForm}) => {\r\n\r\n    const [formValues, setFormValues] = useState(initialFormsValues);\r\n\r\n    const {name: initialName, date: initialDate, recipe: initialRecipe, opened: initialOpened, indexFridge: initialIndexFridge} = initialFormsValues;\r\n    const {name, date, recipe, opened, indexFridge} = formValues;\r\n\r\n    const handleChange = e => {\r\n        e.target.type === \"radio\"\r\n        ? setFormValues({...formValues, opened: e.target.value})\r\n        : e.target.type === \"select-one\"\r\n        ? setFormValues({...formValues, indexFridge: Number(e.target.value)})\r\n        : setFormValues({...formValues, [e.target.id]: e.target.value})\r\n    };\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        idToModified\r\n        ? modifyProduct(idToModified, name, date, recipe, opened, indexFridge)\r\n        : addProduct(name, date, recipe, opened, indexFridge)\r\n    };\r\n\r\n    const disabled = !name || !date || (name === initialName && date === initialDate && recipe === initialRecipe && opened === initialOpened && indexFridge === initialIndexFridge);\r\n   \r\n    const title = (\r\n        <p className=\"h2 mb-6\"> \r\n            {\r\n                idToModified\r\n                ? \"Modifier un produit\"\r\n                : \"Ajouter un produit\"\r\n            }\r\n        </p>\r\n    );\r\n    \r\n    const buttons = (\r\n        <div className=\"row mt-5\">\r\n            <div className=\"col-6 col-sm-8 pr-2\">\r\n                <button type=\"submit\" className=\"btn btn-primary btn-block text-nowrap\" disabled={disabled}>\r\n                    {\r\n                        idToModified\r\n                        ? (\r\n                            <Fragment>\r\n                                <FaPencilAlt /> Modifier\r\n                            </Fragment>\r\n                        ) : (\r\n                            <Fragment>\r\n                                <FiPlus /> Ajouter\r\n                            </Fragment>\r\n                        )\r\n                    }\r\n                </button>\r\n            </div>\r\n            <div className=\"col-6 col-sm-4 pl-2\">\r\n                <button type=\"button\" className=\"btn btn-outline-secondary btn-block text-nowrap\" onClick={hideForm}>\r\n                    <CgClose /> Annuler\r\n                </button>        \r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const selectFrigo = (\r\n        <div className=\"form-group row\">\r\n            <label className=\"col-2 col-form-label\" htmlFor=\"indexFridge\">Frigo</label>\r\n            <div className=\"col-10\">\r\n                <select className=\"form-control\" value={indexFridge} onChange={handleChange} id=\"indexFridge\">\r\n                    <option key=\"allFridges\" value=\"-1\">Non assigné</option>\r\n                    {\r\n                        listFridges.map((fridge, i) =>\r\n                            (\r\n                                <option key={fridge} value={i}>\r\n                                    {fridge}\r\n                                </option>\r\n                            )\r\n                        )\r\n                    }\r\n                </select>\r\n            </div>\r\n        </div>        \r\n    );\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            {title}\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group row\">\r\n                    <label className=\"col-2 col-form-label\" htmlFor=\"name\">Nom</label>\r\n                    <div className=\"col-10\">\r\n                        <input className=\"form-control\" onChange={handleChange} value={name} type=\"text\" id=\"name\" autoComplete=\"off\" maxLength=\"20\" required />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group row\">\r\n                    <label className=\"col-2 col-form-label\" htmlFor=\"date\">DLC</label>\r\n                    <div className=\"col-10\">\r\n                        <input className=\"form-control\" onChange={handleChange} value={date} type=\"date\" id=\"date\" autoComplete=\"on\" required />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group row\">\r\n                    <label className=\"col-2 col-form-label\" htmlFor=\"recipe\">Recette</label>\r\n                    <div className=\"col-10\">\r\n                        <input className=\"form-control\" onChange={handleChange} value={recipe} type=\"text\" id=\"recipe\" autoComplete=\"off\" maxLength=\"20\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group row\">\r\n                    <legend className=\"col-2 col-form-label\">Entamé</legend>\r\n                    <div className=\"col-10 d-flex align-items-center\">\r\n                        <div className=\"ml-2 mr-4\">\r\n                            <input className=\"mr-2\" onChange={handleChange} value=\"true\" type=\"radio\" name=\"opened\" id=\"opened\" checked={opened === \"true\" && true} />\r\n                            <label className=\"form-check-label\" htmlFor=\"opened\">Oui</label>\r\n                        </div>\r\n                        <div>\r\n                            <input className=\"mr-2\" onChange={handleChange} value=\"false\" type=\"radio\" name=\"opened\" id=\"closed\" checked={opened === \"false\" && true} />\r\n                            <label className=\"form-check-label\" htmlFor=\"closed\">Non</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {selectFrigo}\r\n                {buttons}\r\n            </form>            \r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default FormProduct;\r\n","import React, { useContext } from 'react';\r\nimport UserSessionContext from './UserSessionContext';\r\nimport { FaExclamation, FaRegFrown, FaRegMeh, FaRegSmile, FaTags, FaPencilAlt, FaTimes } from \"react-icons/fa\";\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\nconst Product = ({id, name, date, recipe, opened, indexFridge, showForm, deleteProduct}) => {\r\n\r\n    const {userData} = useContext(UserSessionContext);\r\n    const {listFridges} = userData;\r\n\r\n    const fridgeName = indexFridge === -1 ? \"non assigné\" : listFridges[indexFridge];\r\n\r\n    const formatDate = date.replace(/(\\d{4})-(\\d{2})-(\\d{2})/g, \"$3/$2\");\r\n\r\n    const remainingDays = Math.ceil((new Date(date) - new Date()) / (1000 * 60 * 60 * 24));\r\n\r\n    const smileyTooltipMsg = `${remainingDays} jr${opened === \"true\" ? \" (entamé)\" : \"\"}`;\r\n\r\n    const smileyColor = \r\n        remainingDays < 0 ? \"black\" : \r\n        remainingDays < 2 ? \"red\" : \r\n        remainingDays < 4 ? \"orange\" :\r\n        \"green\";\r\n\r\n    const smileyIcon = \r\n        opened === \"true\" ? (<FaExclamation className=\"mr-3 pointer\" color={smileyColor} data-for=\"smileyTooltip\" data-tip={smileyTooltipMsg} data-event=\"click\" />) : \r\n        remainingDays < 0 ? (<FaRegFrown className=\"mr-3 pointer\" color={smileyColor} data-for=\"smileyTooltip\" data-tip={smileyTooltipMsg} data-event=\"click\" />) : \r\n        remainingDays < 4 ? (<FaRegMeh className=\"mr-3 pointer\" color={smileyColor} data-for=\"smileyTooltip\" data-tip={smileyTooltipMsg} data-event=\"click\" />) : \r\n        (<FaRegSmile className=\"mr-3 pointer\" color={smileyColor} data-for=\"smileyTooltip\" data-tip={smileyTooltipMsg} data-event=\"click\" />);\r\n\r\n    return (\r\n        <div className=\"d-flex justify-content-between\">\r\n            <div>\r\n                {smileyIcon}\r\n                <ReactTooltip id=\"smileyTooltip\" place=\"top\" effect=\"solid\" eventOff=\"click\" delayHide={1500} />\r\n                <span className=\"mr-3\"><strong>{formatDate}</strong></span>\r\n                <span className=\"mr-3 pointer\" data-for=\"frigoTooltip\" data-tip={`Frigo ${fridgeName}`} data-event=\"click\">{name}</span>\r\n                <ReactTooltip id=\"frigoTooltip\" place=\"top\" effect=\"solid\" eventOff=\"click\" delayHide={1500} />\r\n            </div>\r\n            <div>\r\n                {\r\n                    recipe && (\r\n                        <FaTags className=\"mr-3 pointer\" color=\"#6c757d\" data-for=\"recipeTooltip\" data-tip={`Recette ${recipe}`} data-event=\"click\" />\r\n                    )\r\n                }\r\n                <ReactTooltip id=\"recipeTooltip\" place=\"top\" effect=\"solid\" eventOff=\"click\" delayHide={1500} />\r\n                <FaPencilAlt className=\"mr-3 pointer\" color=\"#6c757d\" onClick={() => showForm(id, name, date, recipe, opened, indexFridge)} />\r\n                <FaTimes className=\"pointer\" color=\"#6c757d\" onClick={() => deleteProduct(id)} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product;\r\n","import React from 'react';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"d-flex justify-content-center my-4\">\r\n            <div className=\"lds-roller\">\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader;","import React, { useState, useEffect, useContext, Fragment } from 'react';\r\nimport UserSessionContext from './UserSessionContext';\r\nimport { toast } from 'react-toastify';\r\nimport FormProduct from './FormProduct';\r\nimport Product from './Product';\r\nimport Loader from './Loader';\r\nimport { FiPlus } from \"react-icons/fi\";\r\nimport { FaRegTrashAlt, FaCheck, FaTimes } from \"react-icons/fa\";\r\n\r\nconst Welcome = props => {\r\n\r\n    const {userSession, userData, setUserData}  = useContext(UserSessionContext);\r\n    const {pseudo, listFridges, currentIndexFridge, listProducts, nextId}  = userData;\r\n\r\n    const initialFormValues = {name: \"\", date: \"\", recipe: \"\", opened: \"false\", indexFridge: 0};\r\n    \r\n    const [welcomeMsg, setWelcomeMsg] = useState(false);\r\n    const [form, setForm] = useState(false);\r\n    const [formValues, setFormValues] = useState(initialFormValues);\r\n    const [idToModified, setIdToModified] = useState(null);\r\n    const [alert, setAlert] = useState(false);\r\n\r\n    useEffect(() => !userSession && props.history.push(\"/\"), [userSession, props.history]);\r\n\r\n    useEffect(() => {\r\n        if (pseudo && !welcomeMsg) {\r\n            setWelcomeMsg(true);\r\n            toast.success(`Bienvenue ${pseudo}`);\r\n        }\r\n    }, [pseudo]);\r\n    \r\n    const showForm = (id = null, name = \"\", date = \"\", recipe = \"\", opened = \"false\", indexFridge = currentIndexFridge === Infinity ? -1 : currentIndexFridge) => {\r\n        setIdToModified(id);\r\n        setFormValues({name, date, recipe, opened, indexFridge});\r\n        setForm(true);\r\n    }\r\n\r\n    const hideForm = () => setForm(false);\r\n\r\n    const addProduct = (name, date, recipe, opened, indexFridge) => {\r\n        setUserData({\r\n            ...userData, \r\n            listProducts: [...listProducts, {id: nextId, name, date, recipe, opened, indexFridge}], \r\n            nextId: nextId + 1\r\n        });\r\n        setForm(false);\r\n        toast.success(`Ajout de ${name}`);\r\n    }\r\n\r\n    const modifyProduct = (id, name, date, recipe, opened, indexFridge) => {\r\n        const i = listProducts.findIndex(product => product.id === id);\r\n        const newListProducts = [...listProducts];\r\n        newListProducts[i] = {id, name, date, recipe, opened, indexFridge};\r\n        setUserData({...userData, listProducts: newListProducts});\r\n        setForm(false);\r\n        toast.success(`Modification de ${name}`);\r\n    }\r\n\r\n    const deleteProduct = id => {\r\n        const i = listProducts.findIndex(product => product.id === id);\r\n        const productName = listProducts[i].name;\r\n        const newListProducts = [...listProducts];\r\n        newListProducts.splice(i, 1);\r\n        setUserData({...userData, listProducts: newListProducts});\r\n        toast.success(`Suppression de ${productName}`);\r\n    }\r\n\r\n    const deleteAllProducts = () => {\r\n        const filtredListProduct = currentIndexFridge === Infinity ? [] : listProducts.filter(product => product.indexFridge !== currentIndexFridge);\r\n        setUserData({...userData, listProducts: filtredListProduct});\r\n        setAlert(false); \r\n        toast.success(\"Suppression de tous les produits\");\r\n    }\r\n\r\n    const alertMsg = (\r\n        <div className=\"alert alert-danger mb-6\" role=\"alert\">\r\n            <p className=\"h5 text-center mb-3\">\r\n                {\r\n                    currentIndexFridge === Infinity \r\n                    ? (\r\n                        \"Supprimer tous les produits de tous les frigos ?\"\r\n                    ) : currentIndexFridge === -1\r\n                    ? (\r\n                        \"Supprimer tous les produits non assignés à un frigo ?\"\r\n                    ) : (\r\n                        <Fragment>\r\n                            Supprimer tous les produits du frigo <span className=\"text-uppercase\">{listFridges[currentIndexFridge]}</span>\r\n                        </Fragment>                            \r\n                    )\r\n                }\r\n            </p>\r\n            <div className=\"row text-center\">\r\n                <div className=\"col\">\r\n                    <button type=\"button\" className=\"btn btn-success btn-block\" onClick={() => deleteAllProducts()}>\r\n                        <FaCheck /> Oui\r\n                    </button>\r\n                </div>\r\n                <div className=\"col\">\r\n                    <button type=\"button\" className=\"btn btn-danger btn-block\" onClick={() => setAlert(false)}>\r\n                        <FaTimes /> Non\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const buttons = (\r\n        <div className=\"row pb-6\">\r\n            <div className=\"col-6 col-sm-8 pr-2\">\r\n                <button type=\"button\" className=\"btn btn-primary btn-block text-nowrap\" onClick={() => showForm()}>\r\n                    <FiPlus /> Ajouter\r\n                </button>\r\n            </div>\r\n            <div className=\"col-6 col-sm-4 pl-2\">\r\n                <button type=\"button\" className=\"btn btn-outline-secondary btn-block text-nowrap\" onClick={() => setAlert(true)} disabled={!listProducts.length}>\r\n                    <FaRegTrashAlt /> Tout effacer\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const filtredListProduct = \r\n        listProducts\r\n            .filter(product => {\r\n                return currentIndexFridge === Infinity \r\n                ? product\r\n                : currentIndexFridge === -1\r\n                ? product.indexFridge === -1\r\n                : product.indexFridge === currentIndexFridge\r\n            })\r\n            .sort((a, b) => new Date(a.date) - new Date(b.date));\r\n\r\n    const list = \r\n        filtredListProduct.length\r\n        ? (\r\n            <ul className=\"list-group list-group-flush\">\r\n                {\r\n                    filtredListProduct\r\n                        .map(product => {\r\n                            const {id, name, date, recipe, opened, indexFridge} = product;\r\n                            return (\r\n                                <li key={id} className=\"list-group-item\">\r\n                                    <Product\r\n                                        id={id}\r\n                                        name={name}\r\n                                        date={date}\r\n                                        recipe={recipe}\r\n                                        opened={opened}\r\n                                        indexFridge={indexFridge}\r\n                                        showForm={showForm}\r\n                                        deleteProduct={deleteProduct}\r\n                                    />\r\n                                </li>\r\n                            )\r\n                        })\r\n                }\r\n            </ul>\r\n        ) : (\r\n            <p className=\"h5 text-muted text-center pt-5\">Votre liste est vide !</p>\r\n        );\r\n\r\n    return (\r\n        userSession \r\n        ? (\r\n            <Fragment>\r\n                {\r\n                    form \r\n                    ? (\r\n                        <FormProduct\r\n                            idToModified={idToModified}\r\n                            listFridges={listFridges}\r\n                            formValues={formValues}\r\n                            addProduct={addProduct}\r\n                            modifyProduct={modifyProduct}\r\n                            hideForm={hideForm}\r\n                        />\r\n                    ) : (\r\n                        <Fragment>\r\n                            {alert ? alertMsg : buttons}\r\n                            {list}\r\n                        </Fragment>\r\n                    )\r\n                }\r\n            </Fragment>\r\n        ) : (\r\n            <Loader />\r\n        )\r\n    )\r\n\r\n}\r\n\r\nexport default Welcome;","import React, { useState, useContext, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport FirebaseContext from './FirebaseContext';\r\n\r\nconst Login = props => {\r\n\r\n    const firebaseContext = useContext(FirebaseContext);\r\n\r\n    const initialLoginData = {\r\n        email: \"\",\r\n        password: \"\",\r\n    }\r\n\r\n    const [loginData, setLoginData] = useState(initialLoginData);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const {email, password} = loginData;\r\n\r\n    const handleChange = e => setLoginData({...loginData, [e.target.id]: e.target.value});\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        firebaseContext.loginUser(email, password)\r\n        .then(() => {\r\n            setLoginData({...initialLoginData});\r\n            props.history.push(\"/welcome\");\r\n        })\r\n        .catch(error => {\r\n            setError(error);\r\n            setLoginData({...initialLoginData});\r\n        })\r\n    }\r\n\r\n    const btn = (\r\n        <button type=\"submit\" className=\"btn btn-primary\" disabled={!email || password.length < 6}>\r\n            Connexion\r\n        </button>\r\n    );\r\n\r\n    const errorMsg = \r\n        error && (\r\n            <div className=\"alert alert-danger mb-5\" role=\"alert\">\r\n                {error.message}\r\n            </div>\r\n        );\r\n\r\n    return (\r\n        <Fragment>\r\n            {errorMsg}\r\n            <p className=\"h2 mb-6\">Connexion</p>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input className=\"form-control\" onChange={handleChange} value={email} type=\"email\" id=\"email\" autoComplete=\"on\" required />\r\n                </div>\r\n                <div className=\"mb-5\">\r\n                    <label htmlFor=\"password\">Mot de passe</label>\r\n                    <input className=\"form-control\" onChange={handleChange} value={password} type=\"password\" id=\"password\" autoComplete=\"off\" required />\r\n                </div>\r\n                {btn}\r\n            </form>\r\n            <div className=\"mt-6\">\r\n                <Link to=\"/signup\">Pas encore de compte ? Inscrivez-vous.</Link>\r\n            </div>\r\n            <div>\r\n                <Link to=\"/forgetpassword\">Mot de passe oublié ? Récupérez-le.</Link>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState, useContext, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport FirebaseContext from './FirebaseContext';\r\n\r\nconst Signup = props => {\r\n\r\n    const firebaseContext = useContext(FirebaseContext);\r\n\r\n    const initialLoginData = {\r\n        pseudo: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n        nameFridge : \"\"\r\n    }\r\n\r\n    const [loginData, setLoginData] = useState(initialLoginData);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const {pseudo, email, password, confirmPassword, nameFridge} = loginData;\r\n\r\n    const handleChange = e => setLoginData({...loginData, [e.target.id]: e.target.value});\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        firebaseContext.signupUser(email, password)\r\n        .then(authUser => {\r\n            return firebaseContext.userDoc(authUser.user.uid).set({\r\n                pseudo, \r\n                email,\r\n                listFridges: [nameFridge],\r\n                currentIndexFridge: 0,\r\n                listProducts: [],\r\n                listMemento: [],\r\n                nextId: 1\r\n            })\r\n        })\r\n        .then(() => {\r\n            setLoginData({...initialLoginData});\r\n            props.history.push(\"/welcome\");\r\n        })\r\n        .catch(error => {\r\n            setError(error);\r\n            setLoginData({...initialLoginData});\r\n        })\r\n    }\r\n\r\n    const disabled = !pseudo || !email || !password || !nameFridge || password !== confirmPassword;\r\n\r\n    const errorMsg = \r\n        error && (\r\n            <div className=\"alert alert-danger mb-5\" role=\"alert\">\r\n                {error.message}\r\n            </div>\r\n        );\r\n\r\n    return (\r\n        <Fragment>\r\n            {errorMsg}\r\n            <p className=\"h2 mb-6\">Inscription</p>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"pseudo\">Pseudo</label>\r\n                    <input className=\"form-control\" onChange={handleChange} value={pseudo} type=\"text\" id=\"pseudo\" autoComplete=\"off\" maxLength=\"10\" required />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input className=\"form-control\" onChange={handleChange} value={email} type=\"email\" id=\"email\" autoComplete=\"off\" required />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Mot de passe</label>\r\n                    <input className=\"form-control\" onChange={handleChange} value={password} type=\"password\" id=\"password\" autoComplete=\"off\" required />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"confirmPassword\">Confirmer le mot de passe</label>\r\n                    <input className=\"form-control\" onChange={handleChange} value={confirmPassword} type=\"password\" id=\"confirmPassword\" autoComplete=\"off\" required />\r\n                </div>\r\n                <div className=\"mb-5\">\r\n                    <label htmlFor=\"nameFridge\">Donner un nom à votre frigo</label>\r\n                    <input className=\"form-control\" onChange={handleChange} value={nameFridge} type=\"text\" id=\"nameFridge\" autoComplete=\"off\" maxLength=\"20\" required />\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary\" disabled={disabled}>\r\n                    Inscription\r\n                </button>\r\n            </form>\r\n            <div className=\"mt-6\">\r\n                <Link to=\"/login\">Déjà inscrit ? Connectez-vous.</Link>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Signup;\r\n","import React from 'react';\r\n\r\nconst ErrorPage = () => {\r\n    return (\r\n        <div>\r\n            Oups, cette page n'existe pas !\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorPage;\r\n","import React, { useState, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport FirebaseContext from './FirebaseContext';\r\n\r\nconst ForgetPassword = props => {\r\n\r\n    const firebaseContext = useContext(FirebaseContext);\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [success, setSuccess] = useState(null);\r\n    const [error, setError] = useState(null);\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        firebaseContext.passwordReset(email)\r\n        .then(() => {\r\n            setEmail(\"\");\r\n            setError(null);\r\n            setSuccess(`Consultez votre email ${email} pour changer le mot de passe.`);\r\n            setTimeout(() => props.history.push(\"/login\"), 5000);\r\n        })\r\n        .catch(error => {\r\n            setEmail(\"\");\r\n            setError(error);\r\n        })\r\n    }\r\n\r\n    const successMsg = \r\n        success && (\r\n            <div className=\"alert alert-success mb-5\" role=\"alert\">\r\n                {success}\r\n            </div>\r\n        );\r\n\r\n    const errorMsg = \r\n        error && (\r\n            <div className=\"alert alert-danger mb-5\" role=\"alert\">\r\n                {error}\r\n            </div>\r\n        );\r\n\r\n    const disabled = !email;\r\n\r\n    return (\r\n        <div>          \r\n            {successMsg}\r\n            {errorMsg}\r\n            <p className=\"h2 mb-6\">Mot de passe oublié</p>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"mb-5\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input className=\"form-control\" onChange={e => setEmail(e.target.value)} value={email} type=\"email\" id=\"email\" autoComplete=\"off\" required />\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary\" disabled={disabled}>Récupérer</button>\r\n            </form>\r\n            <div className=\"mt-6\">\r\n                <Link to=\"/login\">Déjà inscrit ? Connectez-vous.</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ForgetPassword;","import React from 'react';\r\nimport { ImHeart } from \"react-icons/im\";\r\n\r\nconst Footer = () => {   \r\n    return (\r\n        <footer className=\"row p-3 bg-dark\">\r\n            <div className=\"col\">\r\n                <p className=\"text-light text-center mb-0\">Fait avec <ImHeart color=\"#8b8b8b\"/> par <a className=\"font-weight-bold text-light\" href=\"https://github.com/Squich\" target=\"_blank\" rel=\"noopener noreferrer\">Squich</a></p>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React, { useState, useEffect, useContext } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport FirebaseContext from './FirebaseContext';\nimport UserSessionContext from './UserSessionContext';\nimport Header from './Header';\nimport Landing from './Landing';\nimport Welcome from './Welcome';\nimport Login from './Login';\nimport Signup from './Signup';\nimport ErrorPage from './ErrorPage';\nimport ForgetPassword from './ForgetPassword';\nimport Footer from './Footer';\nimport { IconContext } from \"react-icons\";\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\n\ntoast.configure({\n    position: \"top-left\",\n    autoClose: 2000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: false\n});\n\nconst App = () => {\n\n  const firebaseContext = useContext(FirebaseContext);\n\n  const initialUserData = {\n    pseudo: \"\",\n    email: \"\",\n    listFridges: [],\n    currentIndexFridge: 0,\n    listProducts: [],\n    listMemento: [],\n    nextId: 1\n  }\n\n  const [userSession, setUserSession] = useState(null);\n  const [userData, setUserData] = useState(initialUserData);\n\n  const UserSessionContextValue = {\n    userSession, \n    setUserSession,\n    userData, \n    setUserData\n  };\n\n  useEffect(() => {\n      let listener = firebaseContext.auth.onAuthStateChanged(user => user ? setUserSession(user) : setUserSession(null));\n      if (userSession) {\n          firebaseContext.userDoc(userSession.uid)\n          .get()\n          .then(doc => (doc && doc.exists) && setUserData(doc.data()))\n          .catch(error => console.log(error))\n      } else {\n        setUserData(initialUserData);\n      }\n      return () => listener();\n  }, [userSession, firebaseContext]);\n\n  useEffect(() => {\n    if (userSession) {\n        firebaseContext.userDoc(userSession.uid)\n        .update(userData)\n        .then(() => console.log(\"Données de l'utilisateur mises à jour\"))\n        .catch(error => console.error(\"Erreur de mise à jour des données de l'utilisateur : \", error));\n    }\n  }, [userData]);\n\n  return (\n    <UserSessionContext.Provider value={UserSessionContextValue}>\n      <IconContext.Provider value={{style:{verticalAlign:'middle'}}}>\n        <Router basename={process.env.PUBLIC_URL}>\n          <div className=\"container py-responsive\">\n            <div className=\"position-relative shadow rounded-lg overflow-hidden\" id=\"app-container\">\n                <Header />\n                <main className=\"row px-3 py-7 bg-white\">\n                  <div className=\"col\">\n                      <Switch>\n                        <Route exact path=\"/\" component={Landing} />\n                        <Route path=\"/welcome\" component={Welcome} />\n                        <Route path=\"/login\" component={Login} />\n                        <Route path=\"/signup\" component={Signup} />\n                        <Route path=\"/forgetpassword\" component={ForgetPassword} />\n                        <Route component={ErrorPage} />\n                      </Switch>\n                  </div>\n                </main>\n                <Footer />\n            </div>\n          </div>\n        </Router>\n      </IconContext.Provider>        \n    </UserSessionContext.Provider>\n  )\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import app from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nconst config = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_HEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n};\r\n\r\nclass Firebase {\r\n\r\n    constructor() {\r\n        app.initializeApp(config);\r\n        this.auth = app.auth();\r\n        this.db = app.firestore();\r\n    }\r\n\r\n    // Inscription\r\n    signupUser = (email, password) => this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n    // Connexion\r\n    loginUser = (email, password) => this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n    // Déconnexion\r\n    signoutUser = () => this.auth.signOut();\r\n\r\n    // Récupération mot de passe\r\n    passwordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n    // Récupération du document Firestore d'un utilisateur\r\n    userDoc = uid => this.db.doc(`users/${uid}`);\r\n\r\n    // Modifier l'adresse email d'un utilisateur\r\n    updateEmail = email => this.auth.currentUser.updateEmail(email);\r\n\r\n    // Modifier le mot de passe d'un utilisateur\r\n    updatePassword = password => this.auth.currentUser.updatePassword(password);\r\n\r\n    // Suppression d'un utilisateur\r\n    deleteUser = () => this.auth.currentUser.delete();\r\n\r\n    // Suppression du document Firestore associé à un utilisateur\r\n    deleteUserDoc = uid => this.db.doc(`users/${uid}`).delete();\r\n\r\n}\r\n\r\nexport default Firebase;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport Firebase from './components/Firebase';\nimport FirebaseContext from './components/FirebaseContext';\nimport './styles.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <FirebaseContext.Provider value={new Firebase()}>\n      <App />\n    </FirebaseContext.Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}